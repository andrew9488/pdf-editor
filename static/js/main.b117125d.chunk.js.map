{"version":3,"sources":["components/Menu/Menu.module.css","components/ControlPanel/ControlPanel.module.css","components/PDFReader/PDFReader.module.css","components/LoadPDF/LoadPDF.jsx","components/ControlPanel/ControlPanel.jsx","utils/helpers/canvasHelper.js","utils/helpers/highlightText.js","utils/helpers/underlineTextDecoration.js","utils/helpers/lineThroughTextDecoration.js","utils/helpers/clearContextHighlight.js","assets/bold.png","assets/line-through.png","utils/helpers/sessionStorageHelper.js","components/Menu/Menu.jsx","assets/underline.png","utils/helpers/findCanvasWord.js","test.pdf","utils/helpers/getCoordinates.js","api/api.js","components/PDFReader/PDFReader.jsx","utils/hooks/useFetch.js","App/App.js","reportWebVitals.js","index.js"],"names":["module","exports","LoadPDF","React","memo","loadPdf","className","style","cursor","type","onChange","e","target","files","length","display","ControlPanel","props","pageNumber","numPages","setPageNumber","scale","setScale","isFirstPage","isLastPage","isMinZoom","isMaxZoom","classes","panelContainer","panelBlock","onClick","disabled","toFixed","accuracy","highlightText","context","color","coordinates","fillStyle","x","y","width","height","fillRect","underlineTextDecoration","beginPath","lineWidth","strokeStyle","moveTo","lineTo","stroke","lineThroughTextDecoration","clearContextHighlight","clearRect","setEffectsToSessionStorage","word","effect","page","effects","JSON","parse","sessionStorage","getItem","undefined","setItem","stringify","Menu","clearSelectedWord","buttonBlock","title","aria-label","button","src","boldIcon","alt","lineThroughIcon","findCanvasWord","method","words","position","w","startX","endX","startY","endY","clickX","clickY","getCoordinates","parent","setPosition","clientX","left","clientY","top","instance","axios","create","baseURL","headers","pdfApi","file","post","then","response","data","pdfjs","GlobalWorkerOptions","workerSrc","version","PDFReader","callback","docRef","useRef","canvasRefText","useState","pdf","setPdf","json","setJson","canvasSize","setCanvasSize","setNumPages","setWords","selectedWord","setSelectedWord","contextText","setContextText","clickPosition","setClickPosition","positionMouse","setPositionMouse","a","useCallback","console","log","message","fetch","useEffect","ctx","current","getContext","getEffectsFromSessionStorage","forEach","currentWords","filter","j","onDocumentLoadSuccess","onRenderSuccess","clientHeight","clientWidth","fontSize","font","textBaseline","fillText","canvasHelper","onMouseAction","currentTarget","getBoundingClientRect","_reactName","isTextPointer","pdfSection","inputRef","onLoadSuccess","ref","canvasTextCursor","canvasText","onMouseUp","onMouseMove","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b117125d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonBlock\":\"Menu_buttonBlock__dzTc3\",\"button\":\"Menu_button__b2cE7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panelContainer\":\"ControlPanel_panelContainer__3Y64M\",\"panelBlock\":\"ControlPanel_panelBlock__2FTWq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pdfSection\":\"PDFReader_pdfSection__wvN2V\",\"canvasTextCursor\":\"PDFReader_canvasTextCursor__PbnN_\",\"canvasText\":\"PDFReader_canvasText__JsuU7\"};","import React from 'react';\r\n\r\nexport const LoadPDF = React.memo(({loadPdf}) => {\r\n\r\n    const loadFile = (e) => {\r\n        if (e.target.files.length !== 0) {\r\n            loadPdf(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <label className='fa fa-file-pdf-o' style={{cursor: \"pointer\"}}>\r\n            <input type='file' onChange={loadFile} style={{display: 'none'}}/>\r\n        </label>\r\n    );\r\n})\r\n","import React from \"react\";\r\nimport {LoadPDF} from \"../LoadPDF/LoadPDF\";\r\nimport classes from \"./ControlPanel.module.css\"\r\n\r\nexport const ControlPanel = React.memo(props => {\r\n    const {pageNumber, numPages, setPageNumber, scale, setScale, loadPdf} = props\r\n\r\n    const isFirstPage = pageNumber === 1\r\n    const isLastPage = pageNumber === numPages\r\n\r\n    const isMinZoom = scale < 0.6\r\n    const isMaxZoom = scale >= 2.0\r\n\r\n    const goToPreviousPage = () => {\r\n        if (!isFirstPage) setPageNumber(pageNumber - 1)\r\n    }\r\n    const goToNextPage = () => {\r\n        if (!isLastPage) setPageNumber(pageNumber + 1)\r\n    }\r\n\r\n    const zoomOut = () => {\r\n        if (!isMinZoom) setScale(scale - 0.1)\r\n    }\r\n\r\n    const zoomIn = () => {\r\n        if (!isMaxZoom) setScale(scale + 0.1)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panelContainer}>\r\n            <div className={classes.panelBlock}>\r\n                <button onClick={goToPreviousPage} disabled={isFirstPage}>\r\n                    <i className={`fas fa-backward mx-3`}/></button>\r\n                <span>\r\n          Page{pageNumber} of {numPages}\r\n        </span>\r\n                <button onClick={goToNextPage} disabled={isLastPage}>\r\n                    <i className={`fas fa-forward mx-3`}/></button>\r\n            </div>\r\n            <div className={classes.panelBlock}>\r\n                <button onClick={zoomOut} disabled={isMinZoom}>\r\n                    <i className={`fas fa-search-minus mx-3`}/>\r\n                </button>\r\n                <span>{(scale * 100).toFixed()}%</span>\r\n                <button onClick={zoomIn} disabled={isMaxZoom}>\r\n                    <i className={`fas fa-search-plus mx-3`}/>\r\n                </button>\r\n            </div>\r\n            <LoadPDF loadPdf={loadPdf}/>\r\n        </div>\r\n    );\r\n})\r\n","export const accuracy = 839.25\r\n\r\nexport function canvasHelper(context, word, scale) {\r\n    if (context) {\r\n        let fontSize = (word.coordinates[3] - word.coordinates[1]) * scale\r\n        context.font = `${fontSize}px Gill Sans`;\r\n        let x = word.coordinates[0] * scale\r\n        let y = (accuracy - word.coordinates[1]) * scale\r\n        context.textBaseline = \"alphabetic\"\r\n        context.fillText(word.word, x, y)\r\n    }\r\n}","import {accuracy} from \"./canvasHelper\";\r\n\r\nexport const highlightText = (context, color, coordinates, scale) => {\r\n    context.fillStyle = color\r\n    const x = coordinates[0] * scale\r\n    const y = (accuracy - coordinates[3] + 2) * scale\r\n    const width = (coordinates[2] - coordinates[0]) * scale\r\n    const height = (coordinates[3] + 2 - coordinates[1]) * scale\r\n    context.fillRect(x, y, width, height)\r\n}","import {accuracy} from \"./canvasHelper\";\r\n\r\nexport const underlineTextDecoration = (context, color, coordinates, scale) => {\r\n    context.beginPath()\r\n    context.lineWidth = '1'\r\n    context.strokeStyle = color\r\n    const y = accuracy - coordinates[1] + 2\r\n    context.moveTo(coordinates[0] * scale, y * scale)\r\n    context.lineTo(coordinates[2] * scale, y * scale)\r\n    context.stroke()\r\n}","import {accuracy} from \"./canvasHelper\";\r\n\r\nexport const lineThroughTextDecoration = (context, color, coordinates, scale) => {\r\n    context.beginPath()\r\n    context.lineWidth = '1'\r\n    context.strokeStyle = color\r\n    const y = ((accuracy - (coordinates[3] + coordinates[1]) / 2) + 3)\r\n    context.moveTo(coordinates[0] * scale, y * scale)\r\n    context.lineTo(coordinates[2] * scale, y * scale)\r\n    context.stroke()\r\n}\r\n","import {accuracy} from \"./canvasHelper\";\r\n\r\nexport const clearContextHighlight = (context, coordinates, scale) => {\r\n    const x = (coordinates[0] - 1) * scale\r\n    const y = (accuracy - coordinates[3] + 1) * scale\r\n    const width = (coordinates[2] + 2 - coordinates[0]) * scale\r\n    const height = (coordinates[3] + 4 - coordinates[1]) * scale\r\n    context.clearRect(x, y, width, height)\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bold.8afa9f4b.png\";","export default __webpack_public_path__ + \"static/media/line-through.a1a18bd7.png\";","export const setEffectsToSessionStorage = (word, color, type) => {\r\n    const effect = {\r\n        page: word.page,\r\n        color: color,\r\n        coordinates: word.coordinates,\r\n        type: type,\r\n    }\r\n    let effects = JSON.parse(sessionStorage.getItem('effects'))\r\n    if (effects === null) {\r\n        effects = {[word.page]: []}\r\n    } else if (effects[word.page] === undefined) {\r\n        effects = {...effects, [word.page]: []}\r\n    }\r\n    effects[word.page] = [...effects[word.page], effect]\r\n    // effects[word.page] = effects[word.page].map(e => ((e.coordinates[0] === effect.coordinates[0] && e.coordinates[1] === effect.coordinates[1] && e.coordinates[2] === effect.coordinates[2] && e.coordinates[3] === effect.coordinates[3])) ? effect : e)\r\n    sessionStorage.setItem('effects', JSON.stringify(effects))\r\n}\r\n\r\nexport const getEffectsFromSessionStorage = (page) => {\r\n    let effects = sessionStorage.getItem('effects')\r\n    if (effects) {\r\n        let effectsCanvas = JSON.parse(effects)\r\n        return effectsCanvas[page]\r\n    }\r\n}","import React from \"react\";\r\nimport {highlightText} from \"../../utils/helpers/highlightText\";\r\nimport {underlineTextDecoration} from \"../../utils/helpers/underlineTextDecoration\";\r\nimport {lineThroughTextDecoration} from \"../../utils/helpers/lineThroughTextDecoration\";\r\nimport {clearContextHighlight} from \"../../utils/helpers/clearContextHighlight\";\r\nimport boldIcon from \"../../assets/bold.png\";\r\nimport underlineIcon from \"../../assets/underline.png\";\r\nimport lineThroughIcon from \"../../assets/line-through.png\";\r\nimport classes from \"./Menu.module.css\";\r\nimport {setEffectsToSessionStorage} from \"../../utils/helpers/sessionStorageHelper\";\r\n\r\nexport const Menu = React.memo(({context, word, scale, clearSelectedWord}) => {\r\n\r\n    const underline = () => {\r\n        clearContextHighlight(context, word.coordinates, scale)\r\n        underlineTextDecoration(context, \"rgb(17,17,17)\", word.coordinates, scale)\r\n        setEffectsToSessionStorage(word, \"rgb(17,17,17)\", \"underline\")\r\n        clearSelectedWord(null)\r\n    }\r\n\r\n    const highlight = () => {\r\n        clearContextHighlight(context, word.coordinates, scale)\r\n        highlightText(context, \"rgba(234,231,9,0.6)\", word.coordinates, scale)\r\n        setEffectsToSessionStorage(word, \"rgba(234,231,9,0.6)\", \"highlight\")\r\n        clearSelectedWord(null)\r\n    }\r\n\r\n    const lineThrough = () => {\r\n        clearContextHighlight(context, word.coordinates, scale)\r\n        lineThroughTextDecoration(context, \"rgb(255,0,11)\", word.coordinates, scale)\r\n        setEffectsToSessionStorage(word, \"rgb(255,0,11)\", \"lineThrough\")\r\n        clearSelectedWord(null)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.buttonBlock}>\r\n            <button onClick={highlight} title='Выделение текста' aria-label='Выделение текста'\r\n                    className={classes.button}>\r\n                <img src={boldIcon} alt='выделить'/>\r\n            </button>\r\n            <button onClick={underline} title='Подчеркнуть текста' aria-label='Подчеркнуть текста'\r\n                    className={classes.button}>\r\n                <img src={underlineIcon} alt='подчеркнуть'/>\r\n            </button>\r\n            <button onClick={lineThrough} title='Зачеркнуть текста' aria-label='Зачеркнуть текста'\r\n                    className={classes.button}>\r\n                <img src={lineThroughIcon} alt='зачеркнуть'/>\r\n            </button>\r\n        </div>\r\n    );\r\n})","export default \"data:image/png;base64,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\"","import {accuracy} from \"./canvasHelper\";\r\n\r\nexport const findCanvasWord = (method, words, position, scale) => {\r\n    return words[method](w => {\r\n        const startX = w.coordinates[0] * scale\r\n        const endX = w.coordinates[2] * scale\r\n        const startY = (accuracy - w.coordinates[1]) * scale\r\n        const endY = (accuracy - w.coordinates[3]) * scale\r\n        const clickX = position.x\r\n        const clickY = position.y\r\n        return startX <= clickX && clickX <= endX && endY <= clickY && clickY <= startY\r\n    })\r\n}","export default __webpack_public_path__ + \"static/media/test.38b99010.pdf\";","export const getCoordinates = (e, parent, setPosition,) => {\r\n    let x = e.clientX - parent.left\r\n    let y = e.clientY - parent.top\r\n    setPosition({x: x, y: y})\r\n}","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://linkedin-parser.fir.by/api/v1/',\r\n    // baseURL: 'https://cors-anywhere.herokuapp.com/https://linkedin-parser.fir.by/api/v1/',\r\n    headers: {\r\n        'Access-Control-Allow-Origin': '*',\r\n    }\r\n})\r\n\r\nexport const pdfApi = {\r\n    sendPdf(file) {\r\n        return instance.post('converter/convertation-pdf-to-json/', {file})\r\n            .then(response => response.data)\r\n    }\r\n}","import React, {useCallback, useEffect, useRef, useState} from \"react\";\r\nimport {Document, Page, pdfjs} from \"react-pdf\";\r\nimport {ControlPanel} from \"../ControlPanel/ControlPanel\";\r\nimport {Menu} from \"../Menu/Menu\";\r\nimport testjson from \"../../test.json\";\r\nimport testpdf from \"../../test.pdf\";\r\nimport {findCanvasWord} from \"../../utils/helpers/findCanvasWord\";\r\nimport {highlightText} from \"../../utils/helpers/highlightText\";\r\nimport {clearContextHighlight} from \"../../utils/helpers/clearContextHighlight\";\r\nimport {getCoordinates} from \"../../utils/helpers/getCoordinates\";\r\nimport {accuracy, canvasHelper} from \"../../utils/helpers/canvasHelper\";\r\nimport {useFetch} from \"../../utils/hooks/useFetch\";\r\nimport {pdfApi} from \"../../api/api\";\r\nimport classes from \"./PDFReader.module.css\";\r\nimport \"react-pdf/dist/esm/Page/AnnotationLayer.css\";\r\nimport {getEffectsFromSessionStorage} from \"../../utils/helpers/sessionStorageHelper\";\r\nimport {underlineTextDecoration} from \"../../utils/helpers/underlineTextDecoration\";\r\nimport {lineThroughTextDecoration} from \"../../utils/helpers/lineThroughTextDecoration\";\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nexport const PDFReader = () => {\r\n\r\n    const docRef = useRef(null)\r\n    const canvasRefText = useRef()\r\n\r\n    const [pdf, setPdf] = useState(null)\r\n    const [json, setJson] = useState(null)\r\n    const [scale, setScale] = useState(1.5)\r\n    const [canvasSize, setCanvasSize] = useState({height: 0, width: 0})\r\n    const [numPages, setNumPages] = useState(null)\r\n    const [pageNumber, setPageNumber] = useState(1)\r\n    const [words, setWords] = useState([])\r\n    const [selectedWord, setSelectedWord] = useState(null)\r\n    const [contextText, setContextText] = useState(null)\r\n    const [clickPosition, setClickPosition] = useState({x: 0, y: 0})\r\n    const [positionMouse, setPositionMouse] = useState({x: 0, y: 0})\r\n    const [fetch] = useFetch(async (pdf) => {\r\n        const response = await pdfApi.sendPdf(pdf)\r\n        setJson(response)\r\n    })\r\n\r\n    //установка canvas для текста\r\n    useEffect(() => {\r\n        if (!contextText) {\r\n            const ctx = canvasRefText?.current?.getContext('2d')\r\n            setContextText(ctx)\r\n        }\r\n    }, [contextText])\r\n\r\n    //выделяем нужно нам слово\r\n    useEffect(() => {\r\n        const word = findCanvasWord('find', words, clickPosition, scale)\r\n        if (word) {\r\n            setSelectedWord(word)\r\n        }\r\n    }, [clickPosition, words, scale])\r\n\r\n    //выделение текста при нажатии на слово\r\n    useEffect(() => {\r\n        if (contextText && selectedWord) {\r\n            highlightText(contextText, \"rgba(13,117,204,0.4)\", selectedWord.coordinates, scale)\r\n        }\r\n    }, [contextText, selectedWord, scale, clickPosition])\r\n\r\n    //очистка canvas после перехода на следующую страницу\r\n    useEffect(() => {\r\n        if (contextText) {\r\n            contextText.clearRect(0, 0, canvasSize.width, canvasSize.height)\r\n            setSelectedWord(null)\r\n            const effects = getEffectsFromSessionStorage(pageNumber)\r\n            effects && effects.forEach(e => {\r\n                if (e.type === \"underline\") {\r\n                    underlineTextDecoration(contextText, e.color, e.coordinates, scale)\r\n                } else if (e.type === \"highlight\") {\r\n                    highlightText(contextText, e.color, e.coordinates, scale)\r\n                } else {\r\n                    lineThroughTextDecoration(contextText, e.color, e.coordinates, scale)\r\n                }\r\n            })\r\n        }\r\n    }, [pageNumber, canvasSize, scale])\r\n\r\n    //берет из json нужные слова определенной страницы для отрисовки\r\n    useEffect(() => {\r\n        if (json) {\r\n            let currentWords = json.filter(j => j.page === pageNumber)\r\n            setWords(currentWords)\r\n        }\r\n    }, [pageNumber, json])\r\n\r\n    //функция которая устанавливает кол-во страниц\r\n    const onDocumentLoadSuccess = useCallback(({numPages}) => {\r\n        setNumPages(numPages)\r\n    }, [])\r\n\r\n    //заполнение canvas словами для определенной страницы после того, как отрендерится pdf файл\r\n    const onRenderSuccess = useCallback(() => {\r\n        setCanvasSize({\r\n            height: docRef.current.clientHeight * scale,\r\n            width: docRef.current.clientWidth * scale\r\n        })\r\n        words.forEach(w => canvasHelper(contextText, w, scale))\r\n    }, [scale, words])\r\n\r\n\r\n    //загрузка pdf пользователем и отправка на сервер для получения json\r\n    const loadPdf = useCallback(async (file) => {\r\n        if (file) {\r\n            setPdf(file)\r\n            fetch(JSON.stringify(file))\r\n        }\r\n    }, [])\r\n\r\n\r\n    //определение положения клика для поиска словад и положения мыши\r\n    const onMouseAction = (e) => {\r\n        let parent = e.currentTarget.getBoundingClientRect()\r\n        if (e._reactName === 'onMouseMove') {\r\n            getCoordinates(e, parent, setPositionMouse)\r\n        } else if (e._reactName === 'onMouseUp') {\r\n            if (!selectedWord) {\r\n                getCoordinates(e, parent, setClickPosition)\r\n            } else {\r\n                clearContextHighlight(contextText, selectedWord.coordinates, scale)\r\n                setSelectedWord(null)\r\n            }\r\n        }\r\n    }\r\n\r\n    const isTextPointer = findCanvasWord('some', words, positionMouse, scale)\r\n\r\n    return (\r\n        <div className={classes.pdfSection}>\r\n            <ControlPanel\r\n                scale={scale}\r\n                setScale={setScale}\r\n                numPages={numPages}\r\n                pageNumber={pageNumber}\r\n                setPageNumber={setPageNumber}\r\n                loadPdf={loadPdf}\r\n            />\r\n            <Document\r\n                inputRef={docRef}\r\n                file={pdf}\r\n                onLoadSuccess={onDocumentLoadSuccess}\r\n            >\r\n                <Page pageNumber={pageNumber} scale={scale} onRenderSuccess={onRenderSuccess}/>\r\n            </Document>\r\n            <canvas height={canvasSize.height / scale} width={canvasSize.width / scale} ref={canvasRefText}\r\n                    className={isTextPointer ? classes.canvasTextCursor : classes.canvasText} onMouseUp={onMouseAction}\r\n                    onMouseMove={onMouseAction}/>\r\n            {selectedWord &&\r\n            <Menu context={contextText} word={selectedWord} scale={scale} clearSelectedWord={setSelectedWord}/>}\r\n        </div>\r\n    );\r\n}\r\n","import {useCallback} from \"react\";\r\n\r\nexport const useFetch = (callback) => {\r\n\r\n    const fetch = useCallback(async (...args) => {\r\n        try {\r\n            await callback(...args)\r\n        } catch (e) {\r\n            console.log(e.message)\r\n        }\r\n    }, [callback])\r\n\r\n    return [fetch]\r\n}","import {PDFReader} from '../components/PDFReader/PDFReader';\nimport './App.css';\n\nexport const App = () => {\n    return (\n        <div className='App'>\n            <PDFReader/>\n        </div>\n    );\n}\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}